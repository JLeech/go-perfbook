# Написание и оптимизация кода на Го

В этой книге изложены лучшие практики написания высокопроизводильного кода на Го

Далее будет сделано некоторые замечаний относительно ускорения работы некоторых сервисов (кеширования и прочих), но разработка производительных распределённых систем выходит за рамки этой книги. Уже существуют хорошие статьи по мониторингу и архитектуре таких систем. Оптимизация распределённых систем подразумевает совсем другия исследования и компромиссы при разработке.

Всё содержимое под лицензироей CC-BY-SA

Содержимое секции разбито на следующие секции:
1. Советы как писать не медленный код
2. Советы как писать производительный код
	* Го-специфичная секция о том как получить максимум от кода
3. Продвинутые советы по написанию действительно быстрых приложений
	* Когда оптимизированный код недостаточно быстр

Можно просуммировать эти три секции как:

1. "Будьте благоразумны"
2. "Будьте осмотрительны"
3. "Будьте опасны"

# Где и Когда оптимизировать
Я хочу обсудить этот пункт первым, потому что это действительно важный момент.
Нужно ли вам вообще этим заниматься?

У каждой оптимизации есть своя цена. Обычно она выражается в терминах сложности кода
или когнитивной нагрузки(cognitive load) - оптимизированный код редко проще неоптимизированного.

Но есть другая сторона, которую я называю экономикой оптимизации. Твоё время как программиста имеет свою цену. Есть некоторая стоимость того, над чем ты ещё мог бы поработать, какие баги пофиксить, какие фичи добавить. Заниматься оптимизациями весело, но это не всегда та задача которую следует выбирать. Производительность это фича, такая же как shipping(?) и корректность выполнения.

Выбери наиболее важное направление работы. Иногда это не оптимизация использования CPU, а улучшение пользовательского опыта. Что-нибудь простое, например добавление прогресс бара или увеличение отзывчивости страницы за счёт переноса вычислений в фон после рендера страницы.

Иногда направление очевидно: ежечасный отчёт который строится 3 часа мнее полезен чем строящийся менее часа. 

То, что легко оптимизировать не обязательно должно быть оптимизировано. Игнорирование легко достижимых результатов работающая стратегия разработки.

Думай о этом как об оптимизации своего времени.

Тебе нужно выбирать что оптимизировать и когда. 